window.__require=function e(n,t,o){function r(a,u){if(!t[a]){if(!n[a]){var c=a.split("/");if(c=c[c.length-1],!n[c]){var s="function"==typeof __require&&__require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=t[a]={exports:{}};n[a][0].call(p.exports,function(e){return r(n[a][1][e]||e)},p,p.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({MuzhiwanSDKMiniGameAd:[function(e,n,t){"use strict";cc._RF.push(n,"7b680AIAqZCd4/y43fp562B","MuzhiwanSDKMiniGameAd");var o,r=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(n){i(n)}}function u(e){try{c(o.throw(e))}catch(n){i(n)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,u)}c((o=o.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(e){return function(n){return c([e,n])}}function c(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(u){i=[6,u],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},u=this&&this.__read||function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var o,r,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(u){r={error:u}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.MuzhiwanSDKMiniGameAd=void 0;var c=e("../../../../app/game/ctrl/sdk/SDKInterface"),s=e("../../../../framework/FW"),p=e("../../../../framework/utils/PromiseWrap"),l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.Advertisement=function(e){return void 0===e&&(e=null),i(this,void 0,void 0,function(){var n,t,o,r,i,s=this;return a(this,function(a){switch(a.label){case 0:return n=this.parent.GetInfo().GetSdkSetting(),t=new p.PromiseWrap,null==n||0==n.is_showad?(t.reject(),[2,t.promise]):(o={type:e},e==c.AdvertisementType.banner&&(o.style={left:200,top:400,width:320,height:320}),[4,this.CallOvertime(1,function(e){s.SDKShowAd(o).then(function(n){e([!0,n])}).catch(function(){e([!1,!1])})})]);case 1:return(r=u.apply(void 0,[a.sent(),2]))[0],i=r[1],t.resolve(i),[2,t.promise]}})})},n.prototype.SDKShowAd=function(e){var n=new p.PromiseWrap;return s.FW.Log.log("\u5e7f\u544a\u53c2\u6570\uff1a",e),commonH5SDK.expansionInterface(commonH5SDK.expansion_type.showAd,e,function(e){e&&0==e.code?n.resolve(!0):n.reject(!1)}),n.promise},n.__cname="MuzhiwanSDKMiniGameAd",n}(e("./MuzhiwanSDKMiniGameComponent").MuzhiwanSDKMiniGameComponent);t.MuzhiwanSDKMiniGameAd=l,cc._RF.pop()},{"../../../../app/game/ctrl/sdk/SDKInterface":void 0,"../../../../framework/FW":void 0,"../../../../framework/utils/PromiseWrap":void 0,"./MuzhiwanSDKMiniGameComponent":"MuzhiwanSDKMiniGameComponent"}],MuzhiwanSDKMiniGameComponent:[function(e,n,t){"use strict";cc._RF.push(n,"6a3baTJ5ZVESakeQMTBJnKF","MuzhiwanSDKMiniGameComponent");var o,r=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.MuzhiwanSDKMiniGameComponent=void 0;var i=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.__cname="MuzhiwanSDKMiniGameComponent",n}(e("../../../../app/game/ctrl/sdk/component/BaseSDKComponent").BaseSDKComponent);t.MuzhiwanSDKMiniGameComponent=i,cc._RF.pop()},{"../../../../app/game/ctrl/sdk/component/BaseSDKComponent":void 0}],MuzhiwanSDKMiniGameInfo:[function(e,n,t){"use strict";cc._RF.push(n,"f01f3/1ntlK0bDCVlNO+RVv","MuzhiwanSDKMiniGameInfo");var o,r=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__decorate||function(e,n,t,o){var r,i=arguments.length,a=i<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,o);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(i<3?r(a):i>3?r(n,t,a):r(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MuzhiwanSDKMiniGameInfo=void 0;var a=e("../../../../framework/FW"),u=e("../../../../framework/container/Container"),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.SetSDKInfo=function(e){this._SDKInfo=e},n.prototype.GetSDKInfo=function(){return this._SDKInfo},n.prototype.CreateRoleInfo=function(){var e=this.ModelMgr.ModelAccount.getRoleInfo(),n=e.serverAddress.id.toString(),t=e.serverAddress.name,o=this.ModelMgr.ModelRole.GetRole();return{serverId:n,serverName:t,roleId:o.GetRoleId().toString(),roleName:o.GetName(),roleLevel:o.GetLevel().toString(),partyName:"",roleType:"",roleChangeTime:Number(new Date).toString(),roleSex:"",vipLevel:"0",diamond:o.GetGem(),moneyType:"",custom:"",isNew:"0",score:"",isFinishNewComer:"",roleLevelReborn:"",partyId:"0",checkPointId:"0",checkPointName:"",checkPointResult:"",professionId:"0",professionName:""}},n.prototype.CreateOrderInfo=function(e,n,t){return{CpOrderId:"cp_"+1e3*this.ModelTime.getServerTime(),Price:e,GoodsName:n,ExtraParams:t}},n.prototype.GetSdkSettingData=function(){var e=this;commonH5SDK.expansionInterface(commonH5SDK.expansion_type.gameSetting,"",function(n){0==n.code?(e.muzhiwanSDKSetting=n.data,a.FW.Log.log("\u62c7\u6307\u73a9sdk\u72b6\u6001\uff1a",e.muzhiwanSDKSetting)):(a.FW.Log.error("\u62c7\u6307\u73a9sdk\u83b7\u53d6\u8bbe\u7f6e\u9519\u8bef"),e.GetSdkSettingData())})},n.prototype.GetSdkSetting=function(){return this.muzhiwanSDKSetting},n.__cname="MuzhiwanSDKMiniGameInfo",i([u.injectField("ModelMgr")],n.prototype,"ModelMgr",void 0),i([u.injectField("ModelTime")],n.prototype,"ModelTime",void 0),n}(e("./MuzhiwanSDKMiniGameComponent").MuzhiwanSDKMiniGameComponent);t.MuzhiwanSDKMiniGameInfo=c,cc._RF.pop()},{"../../../../framework/FW":void 0,"../../../../framework/container/Container":void 0,"./MuzhiwanSDKMiniGameComponent":"MuzhiwanSDKMiniGameComponent"}],MuzhiwanSDKMiniGameInit:[function(e,n,t){"use strict";cc._RF.push(n,"8c8caboxJ1JopBjQFgAPxW3","MuzhiwanSDKMiniGameInit");var o,r=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(n){i(n)}}function u(e){try{c(o.throw(e))}catch(n){i(n)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,u)}c((o=o.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(e){return function(n){return c([e,n])}}function c(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(u){i=[6,u],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MuzhiwanSDKMiniGameInit=void 0;var u=e("../../../../framework/FW"),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.InitSdk=function(){return i(this,void 0,void 0,function(){var e,n=this;return a(this,function(){return u.FW.Log.log("\u62c7\u6307\u73a9SDK\u6b63\u5728\u521d\u59cb\u5316"),this.initEnd=!1,e=function(e,t){switch(e){case commonH5SDK.code.INIT_SUCCESS:n.InitCallBack(),n.parent.GetInfo().GetSdkSettingData();break;case commonH5SDK.code.LOGIN_SUCCESS:case commonH5SDK.code.LOGIN_FAIL:n.parent.GetLogin().LoginCallBack(t);break;case commonH5SDK.code.LOGOUT_SUCCESS:case commonH5SDK.code.SWITCH_SUCCESS:break;case commonH5SDK.code.PAY_SUCCESS:n.parent.GetPay().OnRealPay(!0);break;case commonH5SDK.code.PAY_CANCEL:case commonH5SDK.code.PAY_FAIL:n.parent.GetPay().OnRealPay(!1);break;case commonH5SDK.code.INIT_FAIL:u.FW.Log.error("\u62c7\u6307\u73a9sdk \u521d\u59cb\u5316\u5931\u8d25");break;case commonH5SDK.code.EXIT_SUCCESS:}},commonH5SDK.init(this.parent.GetInfo().GetSDKInfo(),e),[2,u.FW.Task.waitUntil(function(){return n.initEnd})]})})},n.prototype.InitCallBack=function(){u.FW.Log.log("\u62c7\u6307\u73a9sdk\u521d\u59cb\u5316\u6210\u529f"),this.initEnd=!0},n.__cname="MuzhiwanSDKMiniGameInit",n}(e("./MuzhiwanSDKMiniGameComponent").MuzhiwanSDKMiniGameComponent);t.MuzhiwanSDKMiniGameInit=c,cc._RF.pop()},{"../../../../framework/FW":void 0,"./MuzhiwanSDKMiniGameComponent":"MuzhiwanSDKMiniGameComponent"}],MuzhiwanSDKMiniGameLogin:[function(e,n,t){"use strict";cc._RF.push(n,"7e1d5qSreRBlIkkKk47I+KV","MuzhiwanSDKMiniGameLogin");var o,r=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__decorate||function(e,n,t,o){var r,i=arguments.length,a=i<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,o);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(i<3?r(a):i>3?r(n,t,a):r(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},a=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(n){i(n)}}function u(e){try{c(o.throw(e))}catch(n){i(n)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,u)}c((o=o.apply(e,n||[])).next())})},u=this&&this.__generator||function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(e){return function(n){return c([e,n])}}function c(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(u){i=[6,u],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=this&&this.__read||function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var o,r,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(u){r={error:u}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.MuzhiwanSDKMiniGameLogin=void 0;var s=e("../../../../framework/container/Container"),p=e("../../../../framework/FW"),l=e("../../../../framework/utils/PromiseWrap"),f=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.Login=function(){return a(this,void 0,void 0,function(){var e,n,t=this;return u(this,function(o){switch(o.label){case 0:return this.loginEnd=!1,commonH5SDK.login("test"),[4,p.FW.Task.waitUntil(function(){return t.loginEnd})];case 1:return o.sent(),e=new l.PromiseWrap,this.ModelTime.getServerTime(),null==this.muzhiwanUserInfo?e.resolve([!1,null]):(n={code:this.muzhiwanUserInfo.openId.toString(),time:this.muzhiwanUserInfo.timestamp,token:this.muzhiwanUserInfo.serverSign},this.userInfo=n,e.resolve([!0,n])),[2,e.promise]}})})},n.prototype.LoginCallBack=function(e){this.muzhiwanUserInfo=e,this.loginEnd=!0},n.prototype.LoginOrRegist=function(){return a(this,void 0,Promise,function(){var e,n,t,o,r;return u(this,function(i){switch(i.label){case 0:if(null!=e)return[3,8];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.Login()];case 2:return n=c.apply(void 0,[i.sent(),2]),t=n[0],o=n[1],t&&o&&(e=o),[3,4];case 3:return(r=i.sent())&&p.FW.Log.error(r),[3,4];case 4:return null!=e?[3,6]:[4,p.FW.Task.delay(500)];case 5:return i.sent(),[3,7];case 6:return[3,8];case 7:return[3,0];case 8:return[2,e]}})})},n.prototype.getServerAddress=function(e,n){return a(this,void 0,Promise,function(){var t,o,r,i,a,c;return u(this,function(u){switch(u.label){case 0:return t=[],o=this.muzhiwanUserInfo,t.push("platform="+e),t.push("code="+n),t.push("isWss="+(this.AppCustomData.isWss?1:0)),t.push("userType="+o.userType),t.push("openId="+o.openId),t.push("timestamp="+o.timestamp),t.push("serverSign="+o.serverSign),r=t.join("&"),i=this.ModelMgr.ModelPublicData.getServerAddressUrl(),a=i+"?"+r,p.FW.Log.log(a),[4,p.FW.Http.get(a,null,null,!0)];case 1:return(c=u.sent()).result?[2,c.content]:[2,null]}})})},n.__cname="MuzhiwanSDKMiniGameLogin",i([s.injectField("ModelMgr")],n.prototype,"ModelMgr",void 0),i([s.injectField("AppCustomData")],n.prototype,"AppCustomData",void 0),i([s.injectField("ModelTime")],n.prototype,"ModelTime",void 0),n}(e("./MuzhiwanSDKMiniGameComponent").MuzhiwanSDKMiniGameComponent);t.MuzhiwanSDKMiniGameLogin=f,cc._RF.pop()},{"../../../../framework/FW":void 0,"../../../../framework/container/Container":void 0,"../../../../framework/utils/PromiseWrap":void 0,"./MuzhiwanSDKMiniGameComponent":"MuzhiwanSDKMiniGameComponent"}],MuzhiwanSDKMiniGameObject:[function(e,n,t){"use strict";cc._RF.push(n,"95be9YEjhVGOYC22+g8F1JA","MuzhiwanSDKMiniGameObject");var o,r=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.MuzhiwanSDKMiniGameObject=void 0;var i=e("../../../app/game/ctrl/sdk/component/BaseSDKObject"),a=e("./component/MuzhiwanSDKMiniGameAd"),u=e("./component/MuzhiwanSDKMiniGameInfo"),c=e("./component/MuzhiwanSDKMiniGameInit"),s=e("./component/MuzhiwanSDKMiniGameLogin"),p=e("./component/MuzhiwanSDKMiniGamePay"),l=e("./component/MuzhiwanSDKMiniGameShare"),f=e("./component/MuzhiwanSDKMiniGameTrackEvent"),h=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.GetInit=function(){return this.TryGetComponent(c.MuzhiwanSDKMiniGameInit)},n.prototype.GetLogin=function(){return this.TryGetComponent(s.MuzhiwanSDKMiniGameLogin)},n.prototype.GetAd=function(){return this.TryGetComponent(a.MuzhiwanSDKMiniGameAd)},n.prototype.GetPay=function(){return this.TryGetComponent(p.MuzhiwanSDKMiniGamePay)},n.prototype.GetTrackEvent=function(){return this.TryGetComponent(f.MuzhiwanSDKMiniGameTrackEvent)},n.prototype.GetInfo=function(){return this.TryGetComponent(u.MuzhiwanSDKMiniGameInfo)},n.prototype.GetShare=function(){return this.TryGetComponent(l.MuzhiwanSDKMiniGameShare)},n.__cname="MuzhiwanSDKMiniGameObject",n}(i.BaseSDKObject);t.MuzhiwanSDKMiniGameObject=h,cc._RF.pop()},{"../../../app/game/ctrl/sdk/component/BaseSDKObject":void 0,"./component/MuzhiwanSDKMiniGameAd":"MuzhiwanSDKMiniGameAd","./component/MuzhiwanSDKMiniGameInfo":"MuzhiwanSDKMiniGameInfo","./component/MuzhiwanSDKMiniGameInit":"MuzhiwanSDKMiniGameInit","./component/MuzhiwanSDKMiniGameLogin":"MuzhiwanSDKMiniGameLogin","./component/MuzhiwanSDKMiniGamePay":"MuzhiwanSDKMiniGamePay","./component/MuzhiwanSDKMiniGameShare":"MuzhiwanSDKMiniGameShare","./component/MuzhiwanSDKMiniGameTrackEvent":"MuzhiwanSDKMiniGameTrackEvent"}],MuzhiwanSDKMiniGamePay:[function(e,n,t){"use strict";cc._RF.push(n,"a49131hhHRHQ65yz9aGSIOB","MuzhiwanSDKMiniGamePay");var o,r=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__decorate||function(e,n,t,o){var r,i=arguments.length,a=i<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,o);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(i<3?r(a):i>3?r(n,t,a):r(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a},a=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(n){i(n)}}function u(e){try{c(o.throw(e))}catch(n){i(n)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,u)}c((o=o.apply(e,n||[])).next())})},u=this&&this.__generator||function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(e){return function(n){return c([e,n])}}function c(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(u){i=[6,u],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=this&&this.__read||function(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var o,r,i=t.call(e),a=[];try{for(;(void 0===n||n-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(u){r={error:u}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.MuzhiwanSDKMiniGamePay=void 0;var s=e("../../../../framework/FW"),p=e("../../../../framework/container/Container"),l=e("../../../../framework/utils/PromiseWrap"),f=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.PPP=function(e,n,t){return a(this,void 0,Promise,function(){var o,r;return u(this,function(i){switch(i.label){case 0:return o=new l.PromiseWrap,[4,this.CreateOrder(e,n,t)];case 1:return(r=i.sent())?(this.CallSdkPay(e,n,t,r.orderCode),o.resolve(r.orderCode)):o.reject(),[2,o.promise]}})})},n.prototype.CreateOrder=function(e,n,t){return a(this,void 0,void 0,function(){var o,r,i,a,c;return u(this,function(u){switch(u.label){case 0:return o=this.parent.GetInfo().CreateRoleInfo(),r=this.parent.GetLogin().muzhiwanUserInfo,i={code:r.openId.toString(),roleId:parseInt(o.roleId),platform:this.AppCustomData.channelCode,payChannelId:e,fromType:n,fromId:t},a=this.ModelMgr.ModelPublicData.getPayUrl(),c=new l.PromiseWrap,[4,s.FW.Http.get(a,i,null,!0).then(function(e){e.result?c.resolve(e):c.reject()}).catch(function(e){e&&s.FW.Log.error(e)})];case 1:return u.sent(),[2,c.promise]}})})},n.prototype.CallSdkPay=function(e,n,t,o){return a(this,void 0,Promise,function(){var n,r,i,a,p,l,f,h,m,d,y,w=this;return u(this,function(u){switch(u.label){case 0:return n=this.ModelMgr.ModelMall.GetGoodByFromId(t),r=this.ModelMgr.ModelMall.GetPayChannelByKey(n.key),i=r.rmb.toString(),a=r.name,i&&parseInt(i)<=0?(s.FW.Log.error("\u91d1\u989d\u5f02\u5e38: fromId:"+t),[2,[!1,null]]):(p=this.parent.GetInfo().CreateRoleInfo(),l=this.parent.GetInfo().CreateOrderInfo(i,a,o),f=this.parent.GetLogin().muzhiwanUserInfo,h={serverId:p.serverId,serverName:p.serverName,playerId:p.roleId,openId:f.openId,playerName:p.roleName,playerLevel:p.roleLevel,postAmount:l.Price,productId:e,productName:l.GoodsName,productDesc:null,custom:o,exchange:"10",otherInfo:null,timestamp:Number(new Date).toString(),payType:"0"},[4,this.CallOvertime(.5,function(e){w.RealPayInner(h).then(function(n){e([d,n])}).catch(function(){e([!1,null])})})]);case 1:return m=c.apply(void 0,[u.sent(),2]),d=m[0],y=m[1],[2,[d,y]]}})})},n.prototype.RealPayInner=function(e){return a(this,void 0,void 0,function(){var n;return u(this,function(){return n=new l.PromiseWrap,this.RealPay(e,function(e){n.resolve(e)}),[2,n.promise]})})},n.prototype.RealPay=function(e,n){this.callback=n,s.FW.Log.log("=================\u62c7\u6307\u73a9sdk\u540a\u8d77\u652f\u4ed8============="),s.FW.Log.log(e),commonH5SDK.pay(e)},n.prototype.OnRealPay=function(e){this.callback&&this.callback(e)},n.__cname="MuzhiwanSDKMiniGamePay",i([p.injectField("ModelMgr")],n.prototype,"ModelMgr",void 0),i([p.injectField("AppCustomData")],n.prototype,"AppCustomData",void 0),n}(e("./MuzhiwanSDKMiniGameComponent").MuzhiwanSDKMiniGameComponent);t.MuzhiwanSDKMiniGamePay=f,cc._RF.pop()},{"../../../../framework/FW":void 0,"../../../../framework/container/Container":void 0,"../../../../framework/utils/PromiseWrap":void 0,"./MuzhiwanSDKMiniGameComponent":"MuzhiwanSDKMiniGameComponent"}],MuzhiwanSDKMiniGameShare:[function(e,n,t){"use strict";cc._RF.push(n,"692f1Mr1dlKBpHYIkMe8ei8","MuzhiwanSDKMiniGameShare");var o,r=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(n){i(n)}}function u(e){try{c(o.throw(e))}catch(n){i(n)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,u)}c((o=o.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(e){return function(n){return c([e,n])}}function c(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(u){i=[6,u],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MuzhiwanSDKMiniGameShare=void 0;var u,c=e("../../../../app/game/ctrl/sdk/SDKInterface"),s=e("../../../../framework/FW"),p=e("../../../../framework/utils/PromiseWrap"),l=e("./MuzhiwanSDKMiniGameComponent");(function(e){e[e.Friends=0]="Friends",e[e.Moments=1]="Moments"})(u||(u={}));var f=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.CallSdkShare=function(e){return i(this,void 0,Promise,function(){var n,t,o,r;return a(this,function(i){switch(i.label){case 0:return s.FW.Log.log("muzhiwan.share1:",e),n=this.parent.GetInfo().GetSdkSetting(),t=new p.PromiseWrap,null==n||0==n.is_share?(t.resolve(!1),[2]):(o=this.GetShareType(e),s.FW.Log.log("muzhiwan.share2:",o),null==o?(t.resolve(!1),[2]):(r={type:o},s.FW.Log.log("muzhiwan.share3:",r),this.RealShareInner(r),[4,s.FW.Task.delay(500)]));case 1:return i.sent(),t.resolve(!0),[2,t.promise]}})})},n.prototype.RealShareInner=function(e){return i(this,void 0,void 0,function(){var n,t;return a(this,function(){return n=new p.PromiseWrap,t=function(e){s.FW.Log.log("muzhiwan.share5:",e)},s.FW.Log.log("muzhiwan.share4:",e),commonH5SDK.expansionInterface(commonH5SDK.expansion_type.qgGameShare,e,t),[2,n.promise]})})},n.prototype.GetShareType=function(e){switch(e){case c.ShareType.qq:return null;case c.ShareType.wx:return u.Friends;case c.ShareType.moments:case c.ShareType.wb:default:return null}},n.__cname="MuzhiwanSDKMiniGameShare",n}(l.MuzhiwanSDKMiniGameComponent);t.MuzhiwanSDKMiniGameShare=f,cc._RF.pop()},{"../../../../app/game/ctrl/sdk/SDKInterface":void 0,"../../../../framework/FW":void 0,"../../../../framework/utils/PromiseWrap":void 0,"./MuzhiwanSDKMiniGameComponent":"MuzhiwanSDKMiniGameComponent"}],MuzhiwanSDKMiniGameTrackEvent:[function(e,n,t){"use strict";cc._RF.push(n,"2cd15hPF5FDaawU4QatbL1r","MuzhiwanSDKMiniGameTrackEvent");var o,r=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__decorate||function(e,n,t,o){var r,i=arguments.length,a=i<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,o);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(a=(i<3?r(a):i>3?r(n,t,a):r(n,t))||a);return i>3&&a&&Object.defineProperty(n,t,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MuzhiwanSDKMiniGameTrackEvent=void 0;var a,u=e("../../../../app/game/ctrl/sdk/SDKInterface"),c=e("../../../../framework/FW"),s=e("../../../../framework/container/Container"),p=e("./MuzhiwanSDKMiniGameComponent");(function(e){e[e.arriveServerSelectPage=1]="arriveServerSelectPage",e[e.createRole=2]="createRole",e[e.enterGame=3]="enterGame",e[e.upRoleLevel=4]="upRoleLevel",e[e.arriveEntrance=5]="arriveEntrance",e[e.enterServer=6]="enterServer",e[e.arriveFirstScene=7]="arriveFirstScene",e[e.arriveLoadingFinish=8]="arriveLoadingFinish",e[e.arriveLoadingZero=9]="arriveLoadingZero",e[e.arriveCreateRolePage=10]="arriveCreateRolePage",e[e.newcomerFinish=11]="newcomerFinish",e[e.checkpointStart=12]="checkpointStart",e[e.checkpointEnd=13]="checkpointEnd",e[e.selectRole=14]="selectRole",e[e.renameRole=15]="renameRole",e[e.newcomerStart=16]="newcomerStart"})(a||(a={}));var l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.SubmitDataUserInfo=function(e){var n,t=this.parent.GetInfo().CreateRoleInfo();switch(e){case u.SubmitDataUserInfoType.enterGame:n=a.enterGame;break;case u.SubmitDataUserInfoType.createRole:n=a.createRole,t.isNew="1";break;case u.SubmitDataUserInfoType.leveup:n=a.upRoleLevel}null!=n&&(c.FW.Log.log("==================\u62c7\u6307\u73a9sdk\u63d0\u4ea4\u89d2\u8272\u4fe1\u606f================="),c.FW.Log.log("roleInfo:",t),commonH5SDK.submitData(n,t))},n.__cname="MuzhiwanSDKMiniGameTrackEvent",i([s.injectField("ModelMgr")],n.prototype,"ModelMgr",void 0),i([s.injectField("ModelTime")],n.prototype,"ModelTime",void 0),n}(p.MuzhiwanSDKMiniGameComponent);t.MuzhiwanSDKMiniGameTrackEvent=l,cc._RF.pop()},{"../../../../app/game/ctrl/sdk/SDKInterface":void 0,"../../../../framework/FW":void 0,"../../../../framework/container/Container":void 0,"./MuzhiwanSDKMiniGameComponent":"MuzhiwanSDKMiniGameComponent"}],MuzhiwanSDKMiniGame:[function(e,n,t){"use strict";cc._RF.push(n,"9c41a1k/GlHJLdNYuNt2Kt+","MuzhiwanSDKMiniGame");var o,r=this&&this.__extends||(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(r,i){function a(e){try{c(o.next(e))}catch(n){i(n)}}function u(e){try{c(o.throw(e))}catch(n){i(n)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(a,u)}c((o=o.apply(e,n||[])).next())})},a=this&&this.__generator||function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(e){return function(n){return c([e,n])}}function c(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(u){i=[6,u],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.MuzhiwanSDKMiniGame=void 0;var u=e("../../../app/game/ctrl/sdk/SDKInterface"),c=e("../../../framework/FW"),s=e("../../../framework/container/Container"),p=e("../../../framework/utils/WxUtil"),l=e("./MuzhiwanSDKMiniGameObject"),f=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.initAsync=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return c.FW.Log.log("MuzhiwanSDKMiniGame initAsync"),e=s.Container.inst(),this.sdkobj=new l.MuzhiwanSDKMiniGameObject(e),this.sdkobj.GetInfo().SetSDKInfo(this.GetMuzhiwanSDKInfo()),[4,this.sdkobj.GetInit().InitSdk()];case 1:return n.sent(),[2]}})})},n.prototype.onDestroy=function(){this.sdkobj.destroy()},n.prototype.OnGetMuzhiwanSDKInfo=function(){return{gameSimpleName:"ylsx_mzyw",sdkSimpleName:"muzhiwan_wxgame",sdkVersionCode:"V1_0",sdkClientVersion:"1.0.8",appVersion:"1.0"}},n.prototype.GetMuzhiwanSDKInfo=function(){return null==this._muzhiwansdkInfo&&(this._muzhiwansdkInfo=this.OnGetMuzhiwanSDKInfo()),this._muzhiwansdkInfo},n.prototype.init=function(){},n.prototype.login=function(){return this.sdkobj.GetLogin().Login()},n.prototype.loginOrRegist=function(){return this.sdkobj.GetLogin().LoginOrRegist()},n.prototype.PPP=function(e,n,t){return this.sdkobj.GetPay().PPP(e,n,t)},n.prototype.CheckCanShare=function(e){return null==e||null!=this.sdkobj.GetShare().GetShareType(e)},n.prototype.Share=function(e){return c.FW.Log.log("\u8c03\u7528\u4e86\u62c7\u6307\u73a9\u7684\u5206\u4eab\u63a5\u53e3\uff0c\u7c7b\u578b:",e),this.sdkobj.GetShare().CallSdkShare(e)},n.prototype.Advertisement=function(e){return void 0===e&&(e=1),i(this,void 0,void 0,function(){return a(this,function(){return c.FW.Log.log("\u8c03\u7528\u4e86\u62c7\u6307\u73a9\u7684\u5e7f\u544a\u63a5\u53e3\uff0c\u7c7b\u578b:",e),[2,this.sdkobj.GetAd().Advertisement(e)]})})},n.prototype.getServerAddress=function(e,n,t,o){return this.sdkobj.GetLogin().getServerAddress(e,n,t,o)},n.prototype.submitDataUserInfo=function(e){this.sdkobj.GetTrackEvent().SubmitDataUserInfo(e)},n.prototype.HasADVideo=function(){return 1==this.sdkobj.GetInfo().GetSdkSetting().is_showad},n.prototype.HasUserAgreement=function(){return!1},n.prototype.OpenSdkCustomerService=function(){p.WxUtil.openWXCustomerService()},n.prototype.GetCanCopyAccount=function(){return!1},n.__cname="MuzhiwanSDKMiniGame",n}(u.SDKInterface);t.MuzhiwanSDKMiniGame=f,cc._RF.pop()},{"../../../app/game/ctrl/sdk/SDKInterface":void 0,"../../../framework/FW":void 0,"../../../framework/container/Container":void 0,"../../../framework/utils/WxUtil":void 0,"./MuzhiwanSDKMiniGameObject":"MuzhiwanSDKMiniGameObject"}]},{},["MuzhiwanSDKMiniGame","MuzhiwanSDKMiniGameObject","MuzhiwanSDKMiniGameAd","MuzhiwanSDKMiniGameComponent","MuzhiwanSDKMiniGameInfo","MuzhiwanSDKMiniGameInit","MuzhiwanSDKMiniGameLogin","MuzhiwanSDKMiniGamePay","MuzhiwanSDKMiniGameShare","MuzhiwanSDKMiniGameTrackEvent"]);