window.__require=function e(t,n,o){function r(a,c){if(!n[a]){if(!t[a]){var u=a.split("/");if(u=u[u.length-1],!t[u]){var s="function"==typeof __require&&__require;if(!c&&s)return s(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+a+"'")}a=u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return r(t[a][1][e]||e)},l,l.exports,e,t,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({GuweiSDKMiniGameAd:[function(e,t,n){"use strict";cc._RF.push(t,"a39baOgkw9KoK9pjA65cOhg","GuweiSDKMiniGameAd");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{u(o.next(e))}catch(t){i(t)}}function c(e){try{u(o.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}u((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a};Object.defineProperty(n,"__esModule",{value:!0}),n.GuweiSDKMiniGameAd=void 0;var u=e("../../../../app/game/ctrl/sdk/SDKInterface"),s=e("../../../../framework/FW"),l=e("../../../../framework/utils/PromiseWrap"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.Advertisement=function(e){return void 0===e&&(e=null),i(this,void 0,void 0,function(){var t,n,o,r,i,p=this;return a(this,function(a){switch(a.label){case 0:return s.FW.Log.log("GuweiSDKMiniGameAd.Advertisement0"),t=this.parent.GetInfo().GetSdkSetting(),n=new l.PromiseWrap,null==t||0==t.is_showad?(n.resolve(!1),[2,n.promise]):(s.FW.Log.log("GuweiSDKMiniGameAd.Advertisement1"),o={type:e},e==u.AdvertisementType.banner&&(o.style={left:200,top:400,width:320,height:320}),s.FW.Log.log("GuweiSDKMiniGameAd.Advertisement2"),[4,this.CallOvertime(1,function(e){s.FW.Log.log("GuweiSDKMiniGameAd.Advertisement3"),p.SDKShowAd(o).then(function(t){s.FW.Log.log("GuweiSDKMiniGameAd.Advertisement4"),e([!0,t])}).catch(function(){e([!1,!1])})})]);case 1:return(r=c.apply(void 0,[a.sent(),2]))[0],i=r[1],s.FW.Log.log("\u5e7f\u544a\u7ed3\u679c0:",i),n.resolve(i),[2,n.promise]}})})},t.prototype.SDKShowAd=function(e){s.FW.Log.log("GuweiSDKMiniGameAd.Advertisement5");var t=new l.PromiseWrap;return s.FW.Log.log("\u5e7f\u544a\u53c2\u6570\uff1a",e),commonH5SDK.expansionInterface(commonH5SDK.expansion_type.showAd,e,function(e){s.FW.Log.log("\u8c37\u7ef4\u5e7f\u544a\u56de\u8c03result:",e),e&&0==e.code?t.resolve(!0):t.resolve(!1)}),t.promise},t.__cname="GuweiSDKMiniGameAd",t}(e("./GuweiSDKMiniGameComponent").GuweiSDKMiniGameComponent);n.GuweiSDKMiniGameAd=p,cc._RF.pop()},{"../../../../app/game/ctrl/sdk/SDKInterface":void 0,"../../../../framework/FW":void 0,"../../../../framework/utils/PromiseWrap":void 0,"./GuweiSDKMiniGameComponent":"GuweiSDKMiniGameComponent"}],GuweiSDKMiniGameComponent:[function(e,t,n){"use strict";cc._RF.push(t,"3a2d11QZsxBLrb6cYa4wktA","GuweiSDKMiniGameComponent");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GuweiSDKMiniGameComponent=void 0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.__cname="GuweiSDKMiniGameComponent",t}(e("../../../../app/game/ctrl/sdk/component/BaseSDKComponent").BaseSDKComponent);n.GuweiSDKMiniGameComponent=i,cc._RF.pop()},{"../../../../app/game/ctrl/sdk/component/BaseSDKComponent":void 0}],GuweiSDKMiniGameInfo:[function(e,t,n){"use strict";cc._RF.push(t,"109603zC9NNZIU5KJzghgMS","GuweiSDKMiniGameInfo");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GuweiSDKMiniGameInfo=void 0;var a=e("../../../../framework/FW"),c=e("../../../../framework/container/Container"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.SetSDKInfo=function(e){this._SDKInfo=e},t.prototype.GetSDKInfo=function(){return this._SDKInfo},t.prototype.CreateRoleInfo=function(){var e=this.ModelMgr.ModelAccount.getRoleInfo(),t=e.serverAddress.id.toString(),n=e.serverAddress.name,o=this.ModelMgr.ModelRole.GetRole();return{serverId:t,serverName:n,roleId:o.GetRoleId().toString(),roleName:o.GetName(),roleLevel:o.GetLevel().toString(),partyName:"",roleType:"",roleChangeTime:Number(new Date).toString(),roleSex:"",vipLevel:"0",diamond:o.GetGem(),moneyType:"",custom:"",isNew:"0",score:"",isFinishNewComer:"",roleLevelReborn:"",partyId:"0",checkPointId:"0",checkPointName:"",checkPointResult:"",professionId:"0",professionName:""}},t.prototype.CreateOrderInfo=function(e,t,n){return{CpOrderId:"cp_"+1e3*this.ModelTime.getServerTime(),Price:e,GoodsName:t,ExtraParams:n}},t.prototype.GetSdkSettingData=function(){var e=this;commonH5SDK.expansionInterface(commonH5SDK.expansion_type.gameSetting,"",function(t){0==t.code?(e.guweiSDKSetting=t.data,a.FW.Log.log("\u8c37\u7ef4sdk\u72b6\u6001\uff1a",e.guweiSDKSetting)):(a.FW.Log.error("\u8c37\u7ef4sdk\u83b7\u53d6\u8bbe\u7f6e\u9519\u8bef"),e.GetSdkSettingData())})},t.prototype.GetSdkSetting=function(){return this.guweiSDKSetting},t.__cname="GuweiSDKMiniGameInfo",i([c.injectField("ModelMgr")],t.prototype,"ModelMgr",void 0),i([c.injectField("ModelTime")],t.prototype,"ModelTime",void 0),t}(e("./GuweiSDKMiniGameComponent").GuweiSDKMiniGameComponent);n.GuweiSDKMiniGameInfo=u,cc._RF.pop()},{"../../../../framework/FW":void 0,"../../../../framework/container/Container":void 0,"./GuweiSDKMiniGameComponent":"GuweiSDKMiniGameComponent"}],GuweiSDKMiniGameInit:[function(e,t,n){"use strict";cc._RF.push(t,"d2659oR8k5Aiboorb7k2y1w","GuweiSDKMiniGameInit");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{u(o.next(e))}catch(t){i(t)}}function c(e){try{u(o.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}u((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GuweiSDKMiniGameInit=void 0;var c=e("../../../../framework/FW"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.InitSdk=function(){return i(this,void 0,void 0,function(){var e,t=this;return a(this,function(){return c.FW.Log.log("\u8c37\u7ef4SDK\u6b63\u5728\u521d\u59cb\u5316"),this.initEnd=!1,e=function(e,n){switch(e){case commonH5SDK.code.INIT_SUCCESS:t.InitCallBack(),t.parent.GetInfo().GetSdkSettingData();break;case commonH5SDK.code.LOGIN_SUCCESS:c.FW.Log.log("\u8c37\u7ef4sdk\u767b\u5f55\u6210\u529f"),t.parent.GetLogin().LoginCallBack(n);break;case commonH5SDK.code.LOGIN_FAIL:c.FW.Log.error("\u8c37\u7ef4sdk\u767b\u5f55\u5931\u8d25"),t.parent.GetLogin().LoginCallBack(n);break;case commonH5SDK.code.LOGOUT_SUCCESS:case commonH5SDK.code.SWITCH_SUCCESS:break;case commonH5SDK.code.PAY_SUCCESS:c.FW.Log.log("\u8c37\u7ef4sdk\u652f\u4ed8\u6210\u529f"),t.parent.GetPay().OnRealPay(!0);break;case commonH5SDK.code.PAY_CANCEL:c.FW.Log.log("\u8c37\u7ef4sdk\u652f\u4ed8\u53d6\u6d88"),t.parent.GetPay().OnRealPay(!1);break;case commonH5SDK.code.PAY_FAIL:c.FW.Log.log("\u8c37\u7ef4sdk\u652f\u4ed8\u5931\u8d25"),t.parent.GetPay().OnRealPay(!1);break;case commonH5SDK.code.INIT_FAIL:c.FW.Log.error("\u8c37\u7ef4sdk \u521d\u59cb\u5316\u5931\u8d25");break;case commonH5SDK.code.EXIT_SUCCESS:}},commonH5SDK.init(this.parent.GetInfo().GetSDKInfo(),e),[2,c.FW.Task.waitUntil(function(){return t.initEnd})]})})},t.prototype.InitCallBack=function(){c.FW.Log.log("\u8c37\u7ef4sdk\u521d\u59cb\u5316\u6210\u529f"),this.initEnd=!0},t.__cname="GuweiSDKMiniGameInit",t}(e("./GuweiSDKMiniGameComponent").GuweiSDKMiniGameComponent);n.GuweiSDKMiniGameInit=u,cc._RF.pop()},{"../../../../framework/FW":void 0,"./GuweiSDKMiniGameComponent":"GuweiSDKMiniGameComponent"}],GuweiSDKMiniGameLogin:[function(e,t,n){"use strict";cc._RF.push(t,"b2b15GSFvVHUpO8TG0cxG5P","GuweiSDKMiniGameLogin");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{u(o.next(e))}catch(t){i(t)}}function c(e){try{u(o.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}u((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a};Object.defineProperty(n,"__esModule",{value:!0}),n.GuweiSDKMiniGameLogin=void 0;var s=e("../../../../framework/container/Container"),l=e("../../../../framework/FW"),p=e("../../../../framework/utils/PromiseWrap"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.Login=function(){return a(this,void 0,void 0,function(){var e,t,n=this;return c(this,function(o){switch(o.label){case 0:return this.loginEnd=!1,commonH5SDK.login("test"),[4,l.FW.Task.waitUntil(function(){return n.loginEnd})];case 1:return o.sent(),e=new p.PromiseWrap,null==this.guweiUserInfo?e.resolve([!1,null]):(t={code:this.guweiUserInfo.openId.toString(),time:this.guweiUserInfo.timestamp,token:this.guweiUserInfo.serverSign},e.resolve([!0,t])),[2,e.promise]}})})},t.prototype.LoginCallBack=function(e){this.guweiUserInfo=e,this.loginEnd=!0},t.prototype.LoginOrRegist=function(){return a(this,void 0,Promise,function(){var e,t,n,o,r;return c(this,function(i){switch(i.label){case 0:if(null!=e)return[3,8];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.Login()];case 2:return t=u.apply(void 0,[i.sent(),2]),n=t[0],o=t[1],n&&o&&(e=o),[3,4];case 3:return(r=i.sent())&&l.FW.Log.error(r),[3,4];case 4:return null!=e?[3,6]:[4,l.FW.Task.delay(500)];case 5:return i.sent(),[3,7];case 6:return[3,8];case 7:return[3,0];case 8:return[2,e]}})})},t.prototype.getServerAddress=function(e,t,n,o){return a(this,void 0,Promise,function(){var r,i,a,u,s,p;return c(this,function(c){switch(c.label){case 0:return r=[],i=this.guweiUserInfo,r.push("platform="+e),r.push("code="+t),r.push("isWss="+(this.AppCustomData.isWss?1:0)),r.push("userType="+i.userType),r.push("timestamp="+o),r.push("serverSign="+n),a=r.join("&"),u=this.ModelMgr.ModelPublicData.getServerAddressUrl(),s=u+"?"+a,l.FW.Log.log("\u8c37\u7ef4\u83b7\u53d6\u670d\u52a1\u5668url:",s),[4,l.FW.Http.get(s,null,null,!0)];case 1:return(p=c.sent()).result?[2,p.content]:[2,null]}})})},t.__cname="GuweiSDKMiniGameLogin",i([s.injectField("ModelMgr")],t.prototype,"ModelMgr",void 0),i([s.injectField("AppCustomData")],t.prototype,"AppCustomData",void 0),i([s.injectField("ModelTime")],t.prototype,"ModelTime",void 0),t}(e("./GuweiSDKMiniGameComponent").GuweiSDKMiniGameComponent);n.GuweiSDKMiniGameLogin=f,cc._RF.pop()},{"../../../../framework/FW":void 0,"../../../../framework/container/Container":void 0,"../../../../framework/utils/PromiseWrap":void 0,"./GuweiSDKMiniGameComponent":"GuweiSDKMiniGameComponent"}],GuweiSDKMiniGameObject:[function(e,t,n){"use strict";cc._RF.push(t,"b75b2jgpXxLPI7P7G8nHBtn","GuweiSDKMiniGameObject");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.GuweiSDKMiniGameObject=void 0;var i=e("../../../app/game/ctrl/sdk/component/BaseSDKObject"),a=e("./component/GuweiSDKMiniGameAd"),c=e("./component/GuweiSDKMiniGameInfo"),u=e("./component/GuweiSDKMiniGameInit"),s=e("./component/GuweiSDKMiniGameLogin"),l=e("./component/GuweiSDKMiniGamePay"),p=e("./component/GuweiSDKMiniGameShare"),f=e("./component/GuweiSDKMiniGameTrackEvent"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.GetInit=function(){return this.TryGetComponent(u.GuweiSDKMiniGameInit)},t.prototype.GetLogin=function(){return this.TryGetComponent(s.GuweiSDKMiniGameLogin)},t.prototype.GetAd=function(){return this.TryGetComponent(a.GuweiSDKMiniGameAd)},t.prototype.GetPay=function(){return this.TryGetComponent(l.GuweiSDKMiniGamePay)},t.prototype.GetTrackEvent=function(){return this.TryGetComponent(f.GuweiSDKMiniGameTrackEvent)},t.prototype.GetInfo=function(){return this.TryGetComponent(c.GuweiSDKMiniGameInfo)},t.prototype.GetShare=function(){return this.TryGetComponent(p.GuweiSDKMiniGameShare)},t.__cname="GuweiSDKMiniGameObject",t}(i.BaseSDKObject);n.GuweiSDKMiniGameObject=m,cc._RF.pop()},{"../../../app/game/ctrl/sdk/component/BaseSDKObject":void 0,"./component/GuweiSDKMiniGameAd":"GuweiSDKMiniGameAd","./component/GuweiSDKMiniGameInfo":"GuweiSDKMiniGameInfo","./component/GuweiSDKMiniGameInit":"GuweiSDKMiniGameInit","./component/GuweiSDKMiniGameLogin":"GuweiSDKMiniGameLogin","./component/GuweiSDKMiniGamePay":"GuweiSDKMiniGamePay","./component/GuweiSDKMiniGameShare":"GuweiSDKMiniGameShare","./component/GuweiSDKMiniGameTrackEvent":"GuweiSDKMiniGameTrackEvent"}],GuweiSDKMiniGamePay:[function(e,t,n){"use strict";cc._RF.push(t,"08b69jLOvRK6IuD225fUc7K","GuweiSDKMiniGamePay");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{u(o.next(e))}catch(t){i(t)}}function c(e){try{u(o.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}u((o=o.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a};Object.defineProperty(n,"__esModule",{value:!0}),n.GuweiSDKMiniGamePay=void 0;var s=e("../../../../framework/FW"),l=e("../../../../framework/container/Container"),p=e("../../../../framework/utils/PromiseWrap"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.PPP=function(e,t,n){return a(this,void 0,Promise,function(){var o,r;return c(this,function(i){switch(i.label){case 0:return o=new p.PromiseWrap,[4,this.CreateOrder(e,t,n)];case 1:return(r=i.sent())?(this.CallSdkPay(e,t,n,r.orderCode),o.resolve(r.orderCode)):o.reject(),[2,o.promise]}})})},t.prototype.CreateOrder=function(e,t,n){return a(this,void 0,void 0,function(){var o,r,i,a,u;return c(this,function(c){switch(c.label){case 0:return o=this.parent.GetInfo().CreateRoleInfo(),r=this.parent.GetLogin().guweiUserInfo,i={code:r.openId.toString(),roleId:parseInt(o.roleId),platform:this.AppCustomData.channelCode,payChannelId:e,fromType:t,fromId:n},a=this.ModelMgr.ModelPublicData.getPayUrl(),u=new p.PromiseWrap,[4,s.FW.Http.get(a,i,null,!0).then(function(e){e.result?u.resolve(e):u.reject()}).catch(function(e){e&&s.FW.Log.error(e)})];case 1:return c.sent(),[2,u.promise]}})})},t.prototype.CallSdkPay=function(e,t,n,o){return a(this,void 0,Promise,function(){var t,r,i,a,l,p,f,m,h,d,y,G=this;return c(this,function(c){switch(c.label){case 0:return t=this.ModelMgr.ModelMall.GetGoodByFromId(n),r=this.ModelMgr.ModelMall.GetPayChannelByKey(t.key),i=r.rmb.toString(),a=r.name,i&&parseInt(i)<=0?(s.FW.Log.error("\u91d1\u989d\u5f02\u5e38: fromId:"+n),[2,[!1,null]]):(l=this.parent.GetInfo().CreateRoleInfo(),p=this.parent.GetInfo().CreateOrderInfo(i,a,o),f=this.parent.GetLogin().guweiUserInfo,m={serverId:l.serverId,serverName:l.serverName,playerId:l.roleId,openId:f.openId,playerName:l.roleName,playerLevel:l.roleLevel,postAmount:p.Price,productId:e,productName:p.GoodsName,productDesc:null,custom:o,exchange:"10",otherInfo:null,timestamp:Number(new Date).toString(),payType:"0"},[4,this.CallOvertime(.5,function(e){G.RealPayInner(m).then(function(t){e([d,t])}).catch(function(){e([!1,null])})})]);case 1:return h=u.apply(void 0,[c.sent(),2]),d=h[0],y=h[1],[2,[d,y]]}})})},t.prototype.RealPayInner=function(e){return a(this,void 0,void 0,function(){var t;return c(this,function(){return t=new p.PromiseWrap,this.RealPay(e,function(e){t.resolve(e)}),[2,t.promise]})})},t.prototype.RealPay=function(e,t){this.callback=t,s.FW.Log.log("=================\u8c37\u7ef4sdk\u540a\u8d77\u652f\u4ed8============="),s.FW.Log.log(e),commonH5SDK.pay(e)},t.prototype.OnRealPay=function(e){this.callback&&this.callback(e)},t.__cname="GuweiSDKMiniGamePay",i([l.injectField("ModelMgr")],t.prototype,"ModelMgr",void 0),i([l.injectField("AppCustomData")],t.prototype,"AppCustomData",void 0),t}(e("./GuweiSDKMiniGameComponent").GuweiSDKMiniGameComponent);n.GuweiSDKMiniGamePay=f,cc._RF.pop()},{"../../../../framework/FW":void 0,"../../../../framework/container/Container":void 0,"../../../../framework/utils/PromiseWrap":void 0,"./GuweiSDKMiniGameComponent":"GuweiSDKMiniGameComponent"}],GuweiSDKMiniGameShare:[function(e,t,n){"use strict";cc._RF.push(t,"27905unMx9HwKGgfL3YEloZ","GuweiSDKMiniGameShare");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{u(o.next(e))}catch(t){i(t)}}function c(e){try{u(o.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}u((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GuweiSDKMiniGameShare=void 0;var c,u=e("../../../../app/game/ctrl/sdk/SDKInterface"),s=e("../../../../framework/FW"),l=e("../../../../framework/utils/PromiseWrap"),p=e("./GuweiSDKMiniGameComponent");(function(e){e[e.Friends=0]="Friends",e[e.Moments=1]="Moments"})(c||(c={}));var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.CallSdkShare=function(e){return i(this,void 0,Promise,function(){var t,n,o,r;return a(this,function(i){switch(i.label){case 0:return s.FW.Log.log("GUWEISDKMINIMAME.share1:",e),t=this.parent.GetInfo().GetSdkSetting(),n=new l.PromiseWrap,null==t||0==t.is_share?(n.resolve(!1),[2]):(o=this.GetShareType(e),s.FW.Log.log("GUWEISDKMINIMAME.share2:",o),null==o?(n.resolve(!1),[2]):(r={type:o},s.FW.Log.log("GUWEISDKMINIMAME.share3:",r),this.RealShareInner(r),[4,s.FW.Task.delay(500)]));case 1:return i.sent(),n.resolve(!0),[2,n.promise]}})})},t.prototype.RealShareInner=function(e){return i(this,void 0,void 0,function(){var t,n;return a(this,function(){return t=new l.PromiseWrap,n=function(e){s.FW.Log.log("GUWEISDKMINIMAME.share5:",e)},s.FW.Log.log("GUWEISDKMINIMAME.share4:",e),commonH5SDK.expansionInterface(commonH5SDK.expansion_type.qgGameShare,e,n),[2,t.promise]})})},t.prototype.GetShareType=function(e){switch(e){case u.ShareType.qq:return null;case u.ShareType.wx:return c.Friends;case u.ShareType.moments:case u.ShareType.wb:default:return null}},t.__cname="GuweiSDKMiniGameShare",t}(p.GuweiSDKMiniGameComponent);n.GuweiSDKMiniGameShare=f,cc._RF.pop()},{"../../../../app/game/ctrl/sdk/SDKInterface":void 0,"../../../../framework/FW":void 0,"../../../../framework/utils/PromiseWrap":void 0,"./GuweiSDKMiniGameComponent":"GuweiSDKMiniGameComponent"}],GuweiSDKMiniGameTrackEvent:[function(e,t,n){"use strict";cc._RF.push(t,"c72bcOPEPVKaqTA/rmtiSs5","GuweiSDKMiniGameTrackEvent");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.GuweiSDKMiniGameTrackEvent=void 0;var a,c=e("../../../../app/game/ctrl/sdk/SDKInterface"),u=e("../../../../framework/FW"),s=e("../../../../framework/container/Container"),l=e("./GuweiSDKMiniGameComponent");(function(e){e[e.arriveServerSelectPage=1]="arriveServerSelectPage",e[e.createRole=2]="createRole",e[e.enterGame=3]="enterGame",e[e.upRoleLevel=4]="upRoleLevel",e[e.arriveEntrance=5]="arriveEntrance",e[e.enterServer=6]="enterServer",e[e.arriveFirstScene=7]="arriveFirstScene",e[e.arriveLoadingFinish=8]="arriveLoadingFinish",e[e.arriveLoadingZero=9]="arriveLoadingZero",e[e.arriveCreateRolePage=10]="arriveCreateRolePage",e[e.newcomerFinish=11]="newcomerFinish",e[e.checkpointStart=12]="checkpointStart",e[e.checkpointEnd=13]="checkpointEnd",e[e.selectRole=14]="selectRole",e[e.renameRole=15]="renameRole",e[e.newcomerStart=16]="newcomerStart"})(a||(a={}));var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.SubmitDataUserInfo=function(e){var t,n=this.parent.GetInfo().CreateRoleInfo();switch(e){case c.SubmitDataUserInfoType.enterGame:t=a.enterGame;break;case c.SubmitDataUserInfoType.createRole:t=a.createRole,n.isNew="1";break;case c.SubmitDataUserInfoType.leveup:t=a.upRoleLevel}null!=t&&(u.FW.Log.log("==================\u8c37\u7ef4sdk\u63d0\u4ea4\u89d2\u8272\u4fe1\u606f================="),u.FW.Log.log("roleInfo:",n),commonH5SDK.submitData(t,n))},t.__cname="GuweiSDKMiniGameTrackEvent",i([s.injectField("ModelMgr")],t.prototype,"ModelMgr",void 0),i([s.injectField("ModelTime")],t.prototype,"ModelTime",void 0),t}(l.GuweiSDKMiniGameComponent);n.GuweiSDKMiniGameTrackEvent=p,cc._RF.pop()},{"../../../../app/game/ctrl/sdk/SDKInterface":void 0,"../../../../framework/FW":void 0,"../../../../framework/container/Container":void 0,"./GuweiSDKMiniGameComponent":"GuweiSDKMiniGameComponent"}],GuweiSDKMiniGame:[function(e,t,n){"use strict";cc._RF.push(t,"3f0beQ1Y39Lv7vs62N0gsQ2","GuweiSDKMiniGame");var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{u(o.next(e))}catch(t){i(t)}}function c(e){try{u(o.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,c)}u((o=o.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.GuweiSDKMiniGame=void 0;var c=e("../../../app/game/ctrl/sdk/SDKInterface"),u=e("../../../framework/FW"),s=e("../../../framework/container/Container"),l=e("../../../framework/utils/WxUtil"),p=e("./GuweiSDKMiniGameObject"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initAsync=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return u.FW.Log.log("GuweiSDKMiniGame initAsync"),e=s.Container.inst(),this.sdkobj=new p.GuweiSDKMiniGameObject(e),this.sdkobj.GetInfo().SetSDKInfo(this.GetGuweiSDKInfo()),[4,this.sdkobj.GetInit().InitSdk()];case 1:return t.sent(),[2]}})})},t.prototype.onDestroy=function(){this.sdkobj.destroy()},t.prototype.userAgreement=function(){return"https://blcx.ios.51fytx.com/client/agreement/guwei/user_agreement.html"},t.prototype.privacyAgreement=function(){return"https://blcx.ios.51fytx.com/client/agreement/guwei/privacy_policy.html"},t.prototype.OnGetGuweiSDKInfo=function(){return{gameSimpleName:"ylsx_wx",sdkSimpleName:"goowei_wxgame",sdkVersionCode:"V1_3",sdkClientVersion:"1.3",appVersion:"1.0"}},t.prototype.GetGuweiSDKInfo=function(){return null==this._guweisdkInfo&&(this._guweisdkInfo=this.OnGetGuweiSDKInfo()),this._guweisdkInfo},t.prototype.init=function(){},t.prototype.login=function(){return this.sdkobj.GetLogin().Login()},t.prototype.loginOrRegist=function(){return this.sdkobj.GetLogin().LoginOrRegist()},t.prototype.PPP=function(e,t,n){return this.sdkobj.GetPay().PPP(e,t,n)},t.prototype.CheckCanShare=function(e){return null==e||null!=this.sdkobj.GetShare().GetShareType(e)},t.prototype.Share=function(e){return u.FW.Log.log("GUWEISDKMINIMAME.share0:",e),this.sdkobj.GetShare().CallSdkShare(e)},t.prototype.Advertisement=function(e){return void 0===e&&(e=1),i(this,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return u.FW.Log.log("GuweiSDKMiniGame.Advertisement"),t=!1,[4,this.sdkobj.GetAd().Advertisement(e)];case 1:return t=n.sent(),u.FW.Log.log("\u5e7f\u544a\u7ed3\u679c:",t),[2,t]}})})},t.prototype.getServerAddress=function(e,t,n,o){return this.sdkobj.GetLogin().getServerAddress(e,t,n,o)},t.prototype.submitDataUserInfo=function(e){this.sdkobj.GetTrackEvent().SubmitDataUserInfo(e)},t.prototype.HasADVideo=function(){return 1==this.sdkobj.GetInfo().GetSdkSetting().is_showad},t.prototype.HasUserAgreement=function(){return!1},t.prototype.OpenSdkCustomerService=function(){l.WxUtil.openWXCustomerService()},t.__cname="GuweiSDKMiniGame",t}(c.SDKInterface);n.GuweiSDKMiniGame=f,cc._RF.pop()},{"../../../app/game/ctrl/sdk/SDKInterface":void 0,"../../../framework/FW":void 0,"../../../framework/container/Container":void 0,"../../../framework/utils/WxUtil":void 0,"./GuweiSDKMiniGameObject":"GuweiSDKMiniGameObject"}]},{},["GuweiSDKMiniGame","GuweiSDKMiniGameObject","GuweiSDKMiniGameAd","GuweiSDKMiniGameComponent","GuweiSDKMiniGameInfo","GuweiSDKMiniGameInit","GuweiSDKMiniGameLogin","GuweiSDKMiniGamePay","GuweiSDKMiniGameShare","GuweiSDKMiniGameTrackEvent"]);